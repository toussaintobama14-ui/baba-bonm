<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Baba Bonm</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ğŸ”¥ EMPLACEMENT PUB BANNER (AdSense plus tard) -->
<!-- Remplacer ce script par ton code Google AdSense -->
<!--
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
-->

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0f172a;
  color:white;
  text-align:center;
}
h1{margin:10px;}
#menu button{margin:8px;}
#stats{
  display:flex;
  justify-content:space-around;
  margin:10px;
  font-size:18px;
}
#adBanner{
  background:#111827;
  color:#9ca3af;
  padding:10px;
  margin:10px;
  font-size:14px;
}
#grid{
  display:grid;
  gap:10px;
  padding:20px;
  max-width:420px;
  margin:auto;
}
.card{
  background:#1e293b;
  height:90px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:30px;
  cursor:pointer;
  border-radius:8px;
}
.card:hover{background:#334155;}
.bomb{background:#7f1d1d;}
.treasure{background:#065f46;}
button{
  padding:10px 18px;
  border:none;
  border-radius:6px;
  background:#2563eb;
  color:white;
  font-size:15px;
  cursor:pointer;
}
#gameOver{display:none;}
#adPopup{
  display:none;
  background:#020617;
  padding:20px;
  margin:20px;
  border:1px solid #334155;
}
</style>
</head>

<body>

<h1>ğŸ’£ Baba Bonm</h1>

<!-- ğŸ“¢ BANNER PUB -->
<div id="adBanner">
  ğŸ“¢ PublicitÃ© (remplacer par AdSense)
</div>

<div id="menu">
  <p>Choisis un niveau</p>
  <button onclick="setLevel('facile')">ğŸŸ¢ Facile</button>
  <button onclick="setLevel('moyen')">ğŸŸ¡ Moyen</button>
  <button onclick="setLevel('difficile')">ğŸ”´ Difficile</button>
</div>

<div id="stats" style="display:none;">
  <div>Score : <span id="score">0</span></div>
  <div>Coins : ğŸª™ <span id="coins">0</span></div>
</div>

<div id="grid"></div>

<!-- ğŸ PUB RÃ‰COMPENSÃ‰E -->
<div id="adPopup">
  <p>ğŸ Regarder une publicitÃ© pour continuer ?</p>
  <button onclick="watchAd()">â–¶ï¸ Voir la pub</button>
  <button onclick="endGame()">âŒ Non</button>
</div>

<div id="gameOver">
  <h2>ğŸ’¥ Game Over</h2>
  <p>Score : <span id="finalScore"></span></p>
  <p>Coins gagnÃ©s : ğŸª™ <span id="finalCoins"></span></p>
  <button onclick="showMenu()">Retour au menu</button>
</div>

<script>
let score=0, coins=0;
let bombIndexes=[], totalCards=9;
let lastBombIndex=null;

function setLevel(level){
  if(level==="facile"){ totalCards=6; bombIndexes=randomBombs(1); gridCols(3); }
  if(level==="moyen"){ totalCards=9; bombIndexes=randomBombs(2); gridCols(3); }
  if(level==="difficile"){ totalCards=12; bombIndexes=randomBombs(3); gridCols(4); }
  startGame();
}

function gridCols(n){
  document.getElementById("grid").style.gridTemplateColumns=`repeat(${n},1fr)`;
}

function randomBombs(n){
  let arr=[];
  while(arr.length<n){
    let r=Math.floor(Math.random()*totalCards);
    if(!arr.includes(r)) arr.push(r);
  }
  return arr;
}

function startGame(){
  score=0; coins=0;
  document.getElementById("menu").style.display="none";
  document.getElementById("stats").style.display="flex";
  document.getElementById("gameOver").style.display="none";
  document.getElementById("adPopup").style.display="none";
  updateStats();
  createGrid();
}

function showMenu(){
  document.getElementById("menu").style.display="block";
  document.getElementById("stats").style.display="none";
  document.getElementById("grid").innerHTML="";
  document.getElementById("gameOver").style.display="none";
}

function updateStats(){
  scoreEl().innerText=score;
  coinsEl().innerText=coins;
}
const scoreEl=()=>document.getElementById("score");
const coinsEl=()=>document.getElementById("coins");

function createGrid(){
  const grid=document.getElementById("grid");
  grid.innerHTML="";
  for(let i=0;i<totalCards;i++){
    const card=document.createElement("div");
    card.className="card";
    card.onclick=()=>reveal(card,i);
    grid.appendChild(card);
  }
}

function reveal(card,index){
  if(card.innerHTML!=="") return;
  if(bombIndexes.includes(index)){
    card.classList.add("bomb");
    card.innerHTML="ğŸ’£";
    lastBombIndex=index;
    document.getElementById("adPopup").style.display="block";
  }else{
    card.classList.add("treasure");
    card.innerHTML="ğŸ’";
    score++; coins++;
    updateStats();
  }
}

function watchAd(){
  // ğŸ¬ ICI sera la vraie pub AdSense/Ad Network
  // Simulation :
  coins+=5; // rÃ©compense
  document.getElementById("adPopup").style.display="none";
  updateStats();
}

function endGame(){
  document.getElementById("finalScore").innerText=score;
  document.getElementById("finalCoins").innerText=coins;
  document.getElementById("adPopup").style.display="none";
  document.getElementById("gameOver").style.display="block";
}
</script>

</body>
</html>
